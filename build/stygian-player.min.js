(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(i,n,t){return n&&e(i.prototype,n),t&&e(i,t),i}}(),_TransitionEs6=require("./Transition.es6"),AdsrGain=function(){function e(i,n,t,a,s){var r=this;_classCallCheck(this,e),this._gainNode=i.createGain(),this._valueTransition=new _TransitionEs6.Transition(function(){return r._gainNode.gain.value},function(e){r._gainNode.gain.value=e}),this._active=!1,this._gainNode.gain.value=0,this.attackMilliseconds=n,this.decayMilliseconds=t,this.sustainPercentage=a,this.releaseMilliseconds=s}return _createClass(e,[{key:"getAudioNode",value:function(){return this._gainNode}},{key:"attack",value:function(e){this._active=!0,this._valueTransition.transitionTo(e,this.attackMilliseconds).transitionTo(this.sustainPercentage*e,this.decayMilliseconds)}},{key:"release",value:function(){var e=this;this._valueTransition.transitionTo(0,this.releaseMilliseconds,function(){e._active=!1})}},{key:"isActive",value:function(){return this._active}}]),e}();exports.AdsrGain=AdsrGain;
},{"./Transition.es6":4}],2:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var l=e[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,r,l){return r&&t(e.prototype,r),l&&t(e,l),e}}(),Oscillator=function(){function t(e){_classCallCheck(this,t),this._oscillator=e.createOscillator()}return _createClass(t,[{key:"setType",value:function(t){return this._oscillator.type=t,this}},{key:"getAudioNode",value:function(){return this._oscillator}},{key:"setFrequency",value:function(t){return this._oscillator.frequency.value=t,this}},{key:"on",value:function(){return this._oscillator.start(),this}},{key:"off",value:function(){return this._oscillator.stop(),this}}]),t}();Oscillator.SINE="sine",Oscillator.SQUARE="square",Oscillator.SAWTOOTH="sawtooth",Oscillator.TRIANGLE="triangle",exports.Oscillator=Oscillator;
},{}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_AdsrGainEs6=require("./AdsrGain.es6"),_OscillatorEs6=require("./Oscillator.es6"),Note=Stygian.Note,SimpleAdsrKeyboard=function(){function e(t,n,a,i,r,s){var o=arguments.length<=6||void 0===arguments[6]?6:arguments[6];_classCallCheck(this,e),this._banks=[];for(var l=0;o>l;l++)this._banks.push(new e.Bank(t,n,a,i,r,s))}return _createClass(e,[{key:"getInactiveBank",value:function(){return this._banks.reduce(function(e,t){return t.isActive()?e:t},null)}},{key:"playNote",value:function(e){var t;(t=this.getInactiveBank())&&t.playNote(e)}}]),e}();SimpleAdsrKeyboard.Bank=function(){function e(t,n,a,i,r,s){_classCallCheck(this,e),this.oscillator=new _OscillatorEs6.Oscillator(t).setType(n),this.adsrGain=new _AdsrGainEs6.AdsrGain(t,a,i,r,s),this.oscillator.on(),this.oscillator.getAudioNode().connect(this.adsrGain.getAudioNode()),this.adsrGain.getAudioNode().connect(t.destination)}return _createClass(e,[{key:"isActive",value:function(){return this.adsrGain.isActive()}},{key:"playNote",value:function(e){var t=this;this.oscillator.setFrequency(Note.toFrequency(e.note)),this.adsrGain.attack(e.velocity),setTimeout(function(){t.adsrGain.release()},e.duration)}}]),e}(),exports.SimpleAdsrKeyboard=SimpleAdsrKeyboard;
},{"./AdsrGain.es6":1,"./Oscillator.es6":2}],4:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),Transition=function(){function t(e,n){_classCallCheck(this,t),this._valueGetterFn=e,this._valueSetterFn=n}return _createClass(t,[{key:"transitionTo",value:function(e,n){var a=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return this._lastChange&&this._lastChange.stop(),(this._lastChange=new t.Change(e,n,this._valueGetterFn,this._valueSetterFn,a)).run()}}]),t}();Transition.Change=function(){function t(e,n,a,r,i){_classCallCheck(this,t),this._targetValue=e,this._milliseconds=n,this._valueGetterFn=a,this._valueSetterFn=r,this._callbackFn=i}return _createClass(t,[{key:"stop",value:function(){return clearInterval(this._interval),this}},{key:"run",value:function(){var t=this,e=new Date,n=this._valueGetterFn();return this.stop(),this._interval=setInterval(function(){var a=new Date-e,r=Math.min(1,a/t._milliseconds),i=r*(t._targetValue-n)+n;t._valueSetterFn.call(null,i),1==r&&t.stop()},1),this}},{key:"transitionTo",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];if(this._nextChange)throw new Error("Can't re-glide");return(this._nextChange=new Transition.Change(t,e,this._valueGetterFn,this._valueSetterFn,n)).run()}}]),t}(),exports.Transition=Transition;
},{}],5:[function(require,module,exports){
"use strict";var _modulesAdsrGainEs6=require("./modules/AdsrGain.es6"),_modulesOscillatorEs6=require("./modules/Oscillator.es6"),_modulesSimpleAdsrKeyboardEs6=require("./modules/SimpleAdsrKeyboard.es6"),_modulesTransitionEs6=require("./modules/Transition.es6");window.StygianPlayer={AdsrGain:_modulesAdsrGainEs6.AdsrGain,Oscillator:_modulesOscillatorEs6.Oscillator,SimpleAdsrKeyboard:_modulesSimpleAdsrKeyboardEs6.SimpleAdsrKeyboard,Transition:_modulesTransitionEs6.Transition};
},{"./modules/AdsrGain.es6":1,"./modules/Oscillator.es6":2,"./modules/SimpleAdsrKeyboard.es6":3,"./modules/Transition.es6":4}]},{},[5])


//# sourceMappingURL=build/capstone.js